# simple-camera by katahiromz

## 概要

React+Vita製のシンプルなカメラアプリです。PWAとAndroidに対応しております。

<p align="center">
  <img src="public/pwa-192x192.png" alt="[カメラ アイコン]" />　　
  <img src="img/screenshot.png" alt="[スクリーンショット]" />
</p>

## 機能

- 写真撮影と録画（FFmpeg.wasm による高品質な動画エンコーディング）
- ピンチ操作または「Ctrl+ホイール」によるズーム
- ズーム時に二本指またはマウスの中央ボタンで表示位置の移動が可能
- 前面カメラ・背面カメラの切り替えが可能

## ビルドとテスト

### 依存関係のインストール

```bash
npm install
```

### 開発サーバーの起動

```bash
npm run dev
```

ブラウザで `http://localhost:5173/camera/` にアクセスしてください。

### プロダクションビルド

```bash
npm run build
```

ビルド成果物は `dist/` ディレクトリに生成されます。

### ビルド成果物のプレビュー

```bash
npm run preview
```

### FFmpeg.wasm について

動画録画機能は FFmpeg.wasm を使用しています。これにより、以下の利点があります：

- Android デバイスでの互換性向上
- 高品質な MP4 形式での動画出力
- 音声と映像の確実な同期

**注意事項：**
- FFmpeg.wasm は初回ロード時に CDN から約 30MB のファイルをダウンロードします
- ネットワーク接続が必要です（初回のみ）
- ブラウザが SharedArrayBuffer をサポートしている必要があります
- HTTPS 環境または localhost での動作が推奨されます

### テスト

カメラ機能のテスト：
1. ブラウザでカメラとマイクのアクセス許可を付与してください
2. 写真撮影ボタン（カメラアイコン）をクリックして写真を撮影
3. 録画ボタン（ビデオアイコン）をクリックして動画録画を開始/停止
4. マイクボタンで音声の ON/OFF を切り替え
5. ズームとパン機能をテスト

**モバイル環境でのテスト：**
- Android デバイスで実際のカメラを使用してテスト
- ピンチ操作でズーム機能を確認
- 前面/背面カメラの切り替えを確認

## ライセンス

- MIT

## 連絡先

- 片山博文MZ <katayama.hirofumi.mz@gmail.com>